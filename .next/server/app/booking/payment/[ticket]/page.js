(()=>{var e={};e.id=271,e.ids=[271],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},1156:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>d,routeModule:()=>x,tree:()=>c});var r=s(482),a=s(9108),i=s(2563),n=s.n(i),l=s(8300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["booking",{children:["payment",{children:["[ticket]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9284)),"C:\\Source\\REACTJS\\ASG\\Cinemas\\src\\app\\booking\\payment\\[ticket]\\page.tsx"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,7287)),"C:\\Source\\REACTJS\\ASG\\Cinemas\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\Source\\REACTJS\\ASG\\Cinemas\\src\\app\\booking\\payment\\[ticket]\\page.tsx"],m="/booking/payment/[ticket]/page",p={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/booking/payment/[ticket]/page",pathname:"/booking/payment/[ticket]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7011:(e,t,s)=>{Promise.resolve().then(s.bind(s,9553))},9553:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var r=s(5344),a=s(3150),i=s(6327),n=s(3729),l=s(6013),o=s(8428),c=s(2908),d=s(5998);let m=({params:e})=>{let t=(0,o.useRouter)(),s=e.ticket,m=(0,l.I0)();(0,n.useEffect)(()=>{m((0,i.Ut)(s)),m((0,c.Gk)())},[m]);let p=(0,l.v9)(e=>e.ticket.holdTicket),x=(0,l.v9)(e=>e.ComboToki.combos),u=()=>{m((0,i.XZ)(s)),t.push(`/showtime/${p.show_timeId}`)},h=new Date;h.setMinutes(h.getMinutes()+3);let f=()=>{let e=new Date().getTime();return h.getTime()-e},[j,b]=(0,n.useState)(f());return(0,n.useEffect)(()=>{let e=setInterval(()=>{b(f())},1e3);return()=>clearInterval(e)},[]),(0,n.useEffect)(()=>{j<=0&&u()},[j,u]),(0,r.jsxs)("div",{className:"container mx-auto my-10",children:[r.jsx("div",{className:"backdrop-blur-md bg-gray-100/10 p-4 w-full rounded-2xl flex items-center justify-center",children:(0,r.jsxs)("div",{className:"flex items-center mx-2",children:[r.jsx("p",{className:"font-bold text-indigo-300 text-[30px]",children:"B"}),r.jsx("p",{className:"font-bold text-pink-300 text-[30px]",children:"o"}),r.jsx("p",{className:"font-bold text-pink-400 text-[30px]",children:"o"}),r.jsx("p",{className:"font-bold text-amber-500 text-[30px]",children:"k"}),r.jsx("p",{className:"font-bold text-amber-400 text-[30px]",children:"i"}),r.jsx("p",{className:"font-bold text-amber-200 text-[30px]",children:"n"}),r.jsx("p",{className:"font-bold text-orange-600 text-[30px]",children:"g"})]})}),r.jsx("div",{className:"my-2 backdrop-blur-0 mx-auto bg-gray-100/10 rounded-xl p-4 w-[20%]",children:(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[r.jsx("p",{className:"text-md font-bold",children:"Thời gian giữ ghế"}),r.jsx("span",{children:(e=>{let t=Math.floor(e%6e4/1e3);return`${Math.floor(e/6e4)}:${t<10?"0":""}${t}`})(j)})]})}),r.jsx("div",{className:"my-5",children:r.jsx(d.p6,{props:{comboToki:x}})}),r.jsx("div",{className:"my-5",children:r.jsx(a.Z,{props:{heldTicket:p}})})]})}},3150:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var r=s(5344),a=s(5125),i=s(282),n=s(6013),l=s(3729),o=s(6327),c=s(8428);let d=({props:e})=>{let t=(0,c.useRouter)(),s=e.heldTicket,d=(0,n.I0)(),[m,p]=(0,l.useState)(0),x=(0,n.v9)(e=>e.ComboToki.comboSlected);(0,l.useEffect)(()=>{p(x.reduce((e,t)=>e+t.quantity*t.price,0))},[x]);let u=s.price+m;if(0==s.length)return r.jsx(i.Z,{});let{cinema_id:h,movie_id:f,show_times:j,room_id:b}=s.show_timeId,g={combos:x};return r.jsx(r.Fragment,{children:0===s.length?r.jsx("p",{children:"Loading..."}):r.jsx(r.Fragment,{children:r.jsx("div",{className:"min-h-[200px] h-fit my-5 backdrop-blur-md bg-gray-100/10 rounded-2xl p-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-8 gap-4 p-2",children:[(0,r.jsxs)("div",{className:"col-span-2 flex items-start ",children:[r.jsx("img",{src:f.thumnail,alt:f.title,className:"w-[120px] h-[180px] rounded-xl"}),(0,r.jsxs)("div",{className:"mx-4",children:[r.jsx("h2",{className:"my-2",children:f.title}),r.jsx("p",{className:"text-sm my-2",children:f.rated})]})]}),(0,r.jsxs)("div",{className:"col-span-3 ",children:[(0,r.jsxs)("div",{className:"flex items-start justify-start my-2",children:[r.jsx("p",{className:"font-bold w-[20%]",children:"Rạp "}),r.jsx("span",{className:" ",children:h.name})]}),(0,r.jsxs)("div",{className:"flex items-start justify-start my-2",children:[r.jsx("p",{className:"font-bold w-[20%]",children:"Suất chiếu "}),r.jsx("p",{className:"",children:j[Number(s.show_timeIndex)]})]}),(0,r.jsxs)("div",{className:"flex items-start justify-start my-2",children:[r.jsx("p",{className:"font-bold w-[20%]",children:"Ph\xf2ng chiếu "}),r.jsx("p",{className:"",children:b.room_name})]}),(0,r.jsxs)("div",{className:"flex flex-wrap items-start justify-start my-2",children:[r.jsx("p",{className:"font-bold w-[20%]",children:"Ghế"}),s.seat_id.map((e,t)=>r.jsx("p",{className:"mx-2",children:e.name},t))]})]}),(0,r.jsxs)("div",{className:"col-span-2 ",children:[(0,r.jsxs)("div",{className:"flex items-start justify-start my-2 ",children:[r.jsx("p",{className:"font-bold w-[30%]",children:"Gi\xe1 v\xe9"}),r.jsx("span",{className:" ",children:(0,a.xP)(s.price)})]}),(0,r.jsxs)("div",{className:"flex items-start justify-start my-2",children:[r.jsx("p",{className:"font-bold w-[30%]",children:"Combo"}),r.jsx("span",{className:" ",children:e.totalPriceCombos?(0,a.xP)(e.totalPriceCombos):(0,a.xP)(m)})]}),(0,r.jsxs)("div",{className:"flex items-start justify-start my-2",children:[r.jsx("p",{className:"font-bold w-[30%]",children:"Tổng tiền"}),r.jsx("span",{className:"",children:e.totalTicketPrice?(0,a.xP)(e.totalTicketPrice):(0,a.xP)(u)})]})]}),r.jsx("div",{className:"col-span-1 flex items-center justify-center my-2",children:(0,r.jsxs)("div",{onClick:()=>{if(e.successBookingTicket)return e.successBookingTicket();d((0,o.eB)({id:s._id,data:g})),t.push(`/booking/payment/${s._id}/infopayment`)},className:"relative cursor-pointer inline-flex items-center justify-center px-6 py-3 overflow-hidden font-bold text-white rounded-md shadow-2xl group",children:[r.jsx("span",{className:"absolute inset-0 w-full h-full transition duration-300 ease-out opacity-0 bg-gradient-to-br from-pink-600 via-purple-700 to-blue-400 group-hover:opacity-100"}),r.jsx("span",{className:"absolute top-0 left-0 w-full bg-gradient-to-b from-white to-transparent opacity-5 h-1/3"}),r.jsx("span",{className:"absolute bottom-0 left-0 w-full h-1/3 bg-gradient-to-t from-white to-transparent opacity-5"}),r.jsx("span",{className:"absolute bottom-0 left-0 w-4 h-full bg-gradient-to-r from-white to-transparent opacity-5"}),r.jsx("span",{className:"absolute bottom-0 right-0 w-4 h-full bg-gradient-to-l from-white to-transparent opacity-5"}),r.jsx("span",{className:"absolute inset-0 w-full h-full border border-white rounded-md opacity-10"}),r.jsx("span",{className:"absolute w-0 h-0 transition-all duration-300 ease-out bg-white rounded-full group-hover:w-56 group-hover:h-56 opacity-5"}),r.jsx("span",{className:"relative",children:"Đặt V\xe9"})]})})]})})})})}},9284:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>n});let r=(0,s(6843).createProxy)(String.raw`C:\Source\REACTJS\ASG\Cinemas\src\app\booking\payment\[ticket]\page.tsx`),{__esModule:a,$$typeof:i}=r,n=r.default},3881:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(337);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,156,337,971],()=>s(1156));module.exports=r})();