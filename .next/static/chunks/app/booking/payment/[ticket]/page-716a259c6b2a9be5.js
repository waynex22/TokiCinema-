(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[271],{7617:function(e,s,t){Promise.resolve().then(t.bind(t,3078))},3078:function(e,s,t){"use strict";t.r(s);var a=t(7437),l=t(1505),i=t(7664),n=t(2265),r=t(828),c=t(7907),o=t(1102),d=t(6230);s.default=e=>{let{params:s}=e,t=(0,c.useRouter)(),m=s.ticket,x=(0,r.I0)();(0,n.useEffect)(()=>{x((0,i.Ut)(m)),x((0,o.Gk)())},[x]);let h=(0,r.v9)(e=>e.ticket.holdTicket),p=(0,r.v9)(e=>e.ComboToki.combos),u=()=>{x((0,i.XZ)(m)),t.push("/showtime/".concat(h.show_timeId))},f=new Date;f.setMinutes(f.getMinutes()+3);let j=()=>{let e=new Date().getTime();return f.getTime()-e},[b,N]=(0,n.useState)(j());return(0,n.useEffect)(()=>{let e=setInterval(()=>{N(j())},1e3);return()=>clearInterval(e)},[]),(0,n.useEffect)(()=>{b<=0&&u()},[b,u]),(0,a.jsxs)("div",{className:"container mx-auto my-10",children:[(0,a.jsx)("div",{className:"backdrop-blur-md bg-gray-100/10 p-4 w-full rounded-2xl flex items-center justify-center",children:(0,a.jsxs)("div",{className:"flex items-center mx-2",children:[(0,a.jsx)("p",{className:"font-bold text-indigo-300 text-[30px]",children:"B"}),(0,a.jsx)("p",{className:"font-bold text-pink-300 text-[30px]",children:"o"}),(0,a.jsx)("p",{className:"font-bold text-pink-400 text-[30px]",children:"o"}),(0,a.jsx)("p",{className:"font-bold text-amber-500 text-[30px]",children:"k"}),(0,a.jsx)("p",{className:"font-bold text-amber-400 text-[30px]",children:"i"}),(0,a.jsx)("p",{className:"font-bold text-amber-200 text-[30px]",children:"n"}),(0,a.jsx)("p",{className:"font-bold text-orange-600 text-[30px]",children:"g"})]})}),(0,a.jsx)("div",{className:"my-2 backdrop-blur-0 mx-auto bg-gray-100/10 rounded-xl p-4 w-[20%]",children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,a.jsx)("p",{className:"text-md font-bold",children:"Thời gian giữ ghế"}),(0,a.jsx)("span",{children:(e=>{let s=Math.floor(e%6e4/1e3);return"".concat(Math.floor(e/6e4),":").concat(s<10?"0":"").concat(s)})(b)})]})}),(0,a.jsx)("div",{className:"my-5",children:(0,a.jsx)(d.p6,{props:{comboToki:p}})}),(0,a.jsx)("div",{className:"my-5",children:(0,a.jsx)(l.Z,{props:{heldTicket:h}})})]})}},1505:function(e,s,t){"use strict";var a=t(7437),l=t(7628),i=t(9195),n=t(828),r=t(2265),c=t(7664),o=t(7907);s.Z=e=>{let{props:s}=e,t=(0,o.useRouter)(),d=s.heldTicket,m=(0,n.I0)(),[x,h]=(0,r.useState)(0),p=(0,n.v9)(e=>e.ComboToki.comboSlected);(0,r.useEffect)(()=>{h(p.reduce((e,s)=>e+s.quantity*s.price,0))},[p]);let u=d.price+x;if(0==d.length)return(0,a.jsx)(i.Z,{});let{cinema_id:f,movie_id:j,show_times:b,room_id:N}=d.show_timeId,g={combos:p};return(0,a.jsx)(a.Fragment,{children:0===d.length?(0,a.jsx)("p",{children:"Loading..."}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"min-h-[200px] h-fit my-5 backdrop-blur-md bg-gray-100/10 rounded-2xl p-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-8 gap-4 p-2",children:[(0,a.jsxs)("div",{className:"col-span-2 flex items-start ",children:[(0,a.jsx)("img",{src:j.thumnail,alt:j.title,className:"w-[120px] h-[180px] rounded-xl"}),(0,a.jsxs)("div",{className:"mx-4",children:[(0,a.jsx)("h2",{className:"my-2",children:j.title}),(0,a.jsx)("p",{className:"text-sm my-2",children:j.rated})]})]}),(0,a.jsxs)("div",{className:"col-span-3 ",children:[(0,a.jsxs)("div",{className:"flex items-start justify-start my-2",children:[(0,a.jsx)("p",{className:"font-bold w-[20%]",children:"Rạp "}),(0,a.jsx)("span",{className:" ",children:f.name})]}),(0,a.jsxs)("div",{className:"flex items-start justify-start my-2",children:[(0,a.jsx)("p",{className:"font-bold w-[20%]",children:"Suất chiếu "}),(0,a.jsx)("p",{className:"",children:b[Number(d.show_timeIndex)]})]}),(0,a.jsxs)("div",{className:"flex items-start justify-start my-2",children:[(0,a.jsx)("p",{className:"font-bold w-[20%]",children:"Ph\xf2ng chiếu "}),(0,a.jsx)("p",{className:"",children:N.room_name})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-start justify-start my-2",children:[(0,a.jsx)("p",{className:"font-bold w-[20%]",children:"Ghế"}),d.seat_id.map((e,s)=>(0,a.jsx)("p",{className:"mx-2",children:e.name},s))]})]}),(0,a.jsxs)("div",{className:"col-span-2 ",children:[(0,a.jsxs)("div",{className:"flex items-start justify-start my-2 ",children:[(0,a.jsx)("p",{className:"font-bold w-[30%]",children:"Gi\xe1 v\xe9"}),(0,a.jsx)("span",{className:" ",children:(0,l.xP)(d.price)})]}),(0,a.jsxs)("div",{className:"flex items-start justify-start my-2",children:[(0,a.jsx)("p",{className:"font-bold w-[30%]",children:"Combo"}),(0,a.jsx)("span",{className:" ",children:s.totalPriceCombos?(0,l.xP)(s.totalPriceCombos):(0,l.xP)(x)})]}),(0,a.jsxs)("div",{className:"flex items-start justify-start my-2",children:[(0,a.jsx)("p",{className:"font-bold w-[30%]",children:"Tổng tiền"}),(0,a.jsx)("span",{className:"",children:s.totalTicketPrice?(0,l.xP)(s.totalTicketPrice):(0,l.xP)(u)})]})]}),(0,a.jsx)("div",{className:"col-span-1 flex items-center justify-center my-2",children:(0,a.jsxs)("div",{onClick:()=>{if(s.successBookingTicket)return s.successBookingTicket();m((0,c.eB)({id:d._id,data:g})),t.push("/booking/payment/".concat(d._id,"/infopayment"))},className:"relative cursor-pointer inline-flex items-center justify-center px-6 py-3 overflow-hidden font-bold text-white rounded-md shadow-2xl group",children:[(0,a.jsx)("span",{className:"absolute inset-0 w-full h-full transition duration-300 ease-out opacity-0 bg-gradient-to-br from-pink-600 via-purple-700 to-blue-400 group-hover:opacity-100"}),(0,a.jsx)("span",{className:"absolute top-0 left-0 w-full bg-gradient-to-b from-white to-transparent opacity-5 h-1/3"}),(0,a.jsx)("span",{className:"absolute bottom-0 left-0 w-full h-1/3 bg-gradient-to-t from-white to-transparent opacity-5"}),(0,a.jsx)("span",{className:"absolute bottom-0 left-0 w-4 h-full bg-gradient-to-r from-white to-transparent opacity-5"}),(0,a.jsx)("span",{className:"absolute bottom-0 right-0 w-4 h-full bg-gradient-to-l from-white to-transparent opacity-5"}),(0,a.jsx)("span",{className:"absolute inset-0 w-full h-full border border-white rounded-md opacity-10"}),(0,a.jsx)("span",{className:"absolute w-0 h-0 transition-all duration-300 ease-out bg-white rounded-full group-hover:w-56 group-hover:h-56 opacity-5"}),(0,a.jsx)("span",{className:"relative",children:"Đặt V\xe9"})]})})]})})})})}}},function(e){e.O(0,[921,425,230,971,69,744],function(){return e(e.s=7617)}),_N_E=e.O()}]);