(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[449],{6485:function(e,t,a){Promise.resolve().then(a.bind(a,2735))},2735:function(e,t,a){"use strict";a.r(t);var s=a(7437),l=a(6540),d=a(7664),i=a(2265),c=a(828),n=a(7628);t.default=e=>{let{params:t}=e,{slug:a}=t,r=(0,c.I0)(),o=(0,c.v9)(e=>e.auth.userId);(0,i.useEffect)(()=>{o&&r((0,d.N)(o))},[r,o]);let u=(0,c.v9)(e=>e.ticket.tickets),m=null==u?void 0:u.find(e=>e._id===a);if(!m)return;let{seat_id:x,show_timeId:h,show_timeIndex:f,price:p,_id:j,status:N,combos:g}=m;return(0,s.jsxs)("div",{className:"my-10 container mx-auto",children:[(0,s.jsx)("div",{className:"backdrop-blur-md bg-gray-100/10 p-4 w-full rounded-2xl flex items-center justify-center",children:(0,s.jsxs)("div",{className:"w-fit  flex",children:[(0,s.jsxs)("div",{className:"flex items-center mx-2",children:[(0,s.jsx)("p",{className:"font-bold text-lime-200 text-2xl",children:"V"}),(0,s.jsx)("p",{className:"font-bold text-lime-300 text-2xl",children:"\xe9"})]}),(0,s.jsxs)("div",{className:"flex items-center mx-2",children:[(0,s.jsx)("p",{className:"font-bold text-teal-300 text-2xl",children:"c"}),(0,s.jsx)("p",{className:"font-bold text-teal-500 text-2xl",children:"ủ"}),(0,s.jsx)("p",{className:"font-bold text-indigo-300 text-2xl",children:"a"})]}),(0,s.jsxs)("div",{className:"flex items-center mx-2",children:[(0,s.jsx)("p",{className:"font-bold text-pink-300 text-2xl",children:"b"}),(0,s.jsx)("p",{className:"font-bold text-pink-400 text-2xl",children:"ạ"}),(0,s.jsx)("p",{className:"font-bold text-amber-500 text-2xl",children:"n"})]})]})}),(0,s.jsx)("div",{className:"my-5",children:(0,s.jsx)("div",{className:"backdrop-blur-md bg-gray-100/10 p-4 w-full rounded-2xl col-span-2",children:(0,s.jsxs)("div",{className:"w-full grid grid-cols-4 gap-2 ",children:[(0,s.jsx)("div",{className:"col-span-1 p-4 flex",children:(0,s.jsx)("img",{src:null==h?void 0:h.movie_id.thumnail,alt:"",className:" h-[500px] rounded-lg"})}),(0,s.jsxs)("div",{className:"col-span-2 p-4",children:[(0,s.jsxs)("div",{className:"ml-6",children:[(0,s.jsx)("h1",{className:"font-bold text-[18px]",children:null==h?void 0:h.movie_id.title}),(0,s.jsxs)("div",{className:"flex items-start justify-start my-2",children:[(0,s.jsx)("p",{className:"font-bold w-[20%]",children:"Rạp "}),(0,s.jsx)("span",{className:" ",children:null==h?void 0:h.cinema_id.name})]}),(0,s.jsxs)("div",{className:"flex items-start justify-start my-2",children:[(0,s.jsx)("p",{className:"font-bold w-[20%]",children:"Suất chiếu "}),(0,s.jsx)("p",{className:"",children:null==h?void 0:h.show_times[Number(f)]})]}),(0,s.jsxs)("div",{className:"flex items-start justify-start my-2",children:[(0,s.jsx)("p",{className:"font-bold w-[20%]",children:"Ph\xf2ng chiếu "}),(0,s.jsx)("p",{className:"",children:null==h?void 0:h.room_id.room_name})]}),(0,s.jsxs)("div",{className:"flex items-start justify-start my-2",children:[(0,s.jsx)("p",{className:"font-bold w-[20%]",children:"Số v\xe9 "}),(0,s.jsx)("p",{className:"",children:(null==x?void 0:x.length)>10?"".concat(null==x?void 0:x.length):"0".concat(null==x?void 0:x.length)})]}),(0,s.jsxs)("div",{className:"flex flex-wrap items-start justify-start my-2",children:[(0,s.jsx)("p",{className:"font-bold w-[20%]",children:"Ghế"}),null==x?void 0:x.map((e,t)=>(0,s.jsx)("p",{className:"mx-2",children:e.name},t))]}),(0,s.jsxs)("div",{className:"flex items-start justify-start my-2",children:[(0,s.jsx)("p",{className:"font-bold w-[20%]",children:"Ph\xf2ng chiếu "}),(0,s.jsx)("p",{className:"",children:null==h?void 0:h.room_id.room_name})]}),(0,s.jsxs)("div",{className:"flex items-start justify-start my-2",children:[(0,s.jsx)("p",{className:"font-bold w-[20%]",children:"Tổng tiền "}),(0,s.jsx)("p",{className:"",children:(0,n.xP)(p)})]}),(0,s.jsx)("div",{className:"w-[40%] h-[1px] my-5 bg-gray-300"}),(0,s.jsxs)("div",{className:"my-6",children:[(0,s.jsx)("p",{className:"font-bold w-[20%]",children:"Vật phẩm"}),null==g?void 0:g.map((e,t)=>(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"flex items-start ",children:[(0,s.jsx)("div",{children:(0,s.jsx)("img",{src:e.combo_id.thumbnail,alt:"",className:"w-[100px] h-[100px]"})}),(0,s.jsxs)("div",{className:"ml-5",children:[(0,s.jsx)("span",{className:"font-bold",children:e.combo_id.name}),(0,s.jsxs)("p",{className:"",children:[e.combo_id.description," "]})]})]})},t))]})]}),(0,s.jsxs)("div",{className:"ml-6",children:[(0,s.jsx)("p",{children:"M\xe3 QR code ( Đưa m\xe3 n\xe0y cho nh\xe2n vi\xean để nhận v\xe9 v\xe0 combo )"}),(0,s.jsx)(l.ZP,{className:"my-4",value:a})]})]})]})})})]})}},7664:function(e,t,a){"use strict";a.d(t,{HM:function(){return i},N:function(){return m},US:function(){return h},Ut:function(){return o},XZ:function(){return u},eB:function(){return n},tz:function(){return c}});var s=a(7779),l=a(5972);let d=(0,l.hg)("ticket/getTickets",async()=>(await s.ZP.get("/ticket")).data),i=(0,l.hg)("ticket/addTicket",async e=>(await s.ZP.post("/ticket/add",e)).data.data),c=(0,l.hg)("ticket/addHoldTicket",async e=>(await s.ZP.post("/holdticket/add",e)).data.data),n=(0,l.hg)("ticket/updateHeldTicket",async e=>{let{id:t,data:a}=e;return(await s.ZP.patch("/holdticket/update/".concat(t),a)).data.data}),r=(0,l.hg)("ticket/getHeldTicketById",async e=>(await s.ZP.get("/holdticket/".concat(e))).data),o=(0,l.hg)("ticket/getHeldTicketPolulateById",async e=>(await s.ZP.get("/holdticket/populate/".concat(e))).data.data),u=(0,l.hg)("ticket/deleteHeldTicket",async e=>(await s.ZP.delete("/holdticket/delete/".concat(e))).data.data),m=(0,l.hg)("ticket/getTicketByUserId",async e=>(await s.ZP.get("/ticket/user/".concat(e))).data.data),x=(0,l.oM)({name:"ticket",initialState:{tickets:[],ticket:{},holdTicket:[],status:"idle",statusAddTicket:"idle",error:null},reducers:{resetTicket:e=>{e.ticket={}}},extraReducers:e=>{e.addCase(d.pending,e=>{e.status="loading"}).addCase(d.fulfilled,(e,t)=>{e.status="succeeded",e.tickets=t.payload}).addCase(d.rejected,(e,t)=>{e.status="failed",e.error=t.payload}).addCase(c.pending,e=>{e.status="loading"}).addCase(c.fulfilled,(e,t)=>{e.status="succeeded"}).addCase(c.rejected,(e,t)=>{e.status="failed",e.error=t.payload}).addCase(r.pending,e=>{e.status="loading"}).addCase(r.fulfilled,(e,t)=>{e.status="succeeded",e.holdTicket=t.payload}).addCase(r.rejected,(e,t)=>{e.status="failed",e.error=t.payload}).addCase(i.pending,e=>{e.statusAddTicket="loading"}).addCase(i.fulfilled,(e,t)=>{e.statusAddTicket="succeeded",e.ticket=t.payload}).addCase(o.pending,e=>{e.status="loading"}).addCase(o.fulfilled,(e,t)=>{e.status="succeeded",e.holdTicket=t.payload}).addCase(o.rejected,(e,t)=>{e.status="failed",e.error=t.payload}).addCase(m.pending,e=>{e.status="loading"}).addCase(m.fulfilled,(e,t)=>{e.status="succeeded",e.tickets=t.payload})}}),{resetTicket:h}=x.actions;t.ZP=x.reducer},7628:function(e,t,a){"use strict";a.d(t,{p6:function(){return s},xP:function(){return l}});let s=e=>{let t=new Date(e),a=t.getDate().toString().padStart(2,"0"),s=(t.getMonth()+1).toString().padStart(2,"0"),l=t.getFullYear();return"".concat(a,"/").concat(s,"/").concat(l)},l=e=>{let t=e.toFixed(0).toString().split("."),a=t[0],s=t.length>1?t[1]:"";return(a=a.replace(/\B(?=(\d{3})+(?!\d))/g,"."))+(s?"."+s:"₫")}},7779:function(e,t,a){"use strict";a.d(t,{U2:function(){return l},v_:function(){return d}});let s=a(7908).Z.create({baseURL:"http://localhost:5000/api/v1"}),l=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await s.get(e,t)},d=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await s.post(e,t)};t.ZP=s}},function(e){e.O(0,[921,540,971,69,744],function(){return e(e.s=6485)}),_N_E=e.O()}]);